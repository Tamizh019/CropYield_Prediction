<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriVision System Architecture - Technical Documentation</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        :root {
            --primary: #2ecc71;
            --secondary: #27ae60;
            --accent: #3498db;
            --dark: #0f0f0f;
            --darker: #1a1a1a;
            --card-bg: rgba(255, 255, 255, 0.03);
            --border: rgba(255, 255, 255, 0.1);
            --text: #ffffff;
            --text-muted: rgba(255, 255, 255, 0.6);
            --warning: #f39c12;
            --danger: #e74c3c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--dark);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        /* Header */
        .doc-header {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(135deg, rgba(46, 204, 113, 0.1), rgba(52, 152, 219, 0.1));
            border-radius: 20px;
            margin-bottom: 60px;
            position: relative;
            overflow: hidden;
        }
        
        .doc-header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(46, 204, 113, 0.15), transparent);
            border-radius: 50%;
        }
        
        .doc-header h1 {
            font-size: 48px;
            font-weight: 900;
            margin-bottom: 16px;
            letter-spacing: -0.03em;
            position: relative;
        }
        
        .doc-header .version {
            display: inline-block;
            padding: 8px 20px;
            background: rgba(46, 204, 113, 0.2);
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 16px;
        }
        
        .doc-header p {
            font-size: 18px;
            color: var(--text-muted);
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }
        
        /* Table of Contents */
        .toc {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 60px;
        }
        
        .toc h2 {
            font-size: 24px;
            margin-bottom: 24px;
            color: var(--primary);
        }
        
        .toc-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 16px;
            list-style: none;
        }
        
        .toc-list li a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border);
            border-radius: 10px;
            text-decoration: none;
            color: var(--text);
            transition: all 0.3s;
        }
        
        .toc-list li a:hover {
            background: rgba(46, 204, 113, 0.1);
            border-color: var(--primary);
            transform: translateX(4px);
        }
        
        .toc-icon {
            font-size: 24px;
        }
        
        /* Sections */
        .section {
            margin-bottom: 80px;
        }
        
        .section-title {
            font-size: 36px;
            font-weight: 800;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .section-title .icon {
            font-size: 40px;
        }
        
        .section-subtitle {
            font-size: 18px;
            color: var(--text-muted);
            margin-bottom: 40px;
        }
        
        /* Card */
        .card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 24px;
        }
        
        .card h3 {
            font-size: 24px;
            margin-bottom: 16px;
            color: var(--primary);
        }
        
        /* Tech Stack Grid */
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 32px;
        }
        
        .tech-item {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            transition: all 0.3s;
        }
        
        .tech-item:hover {
            transform: translateY(-4px);
            border-color: var(--primary);
            box-shadow: 0 8px 24px rgba(46, 204, 113, 0.2);
        }
        
        .tech-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }
        
        .tech-name {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .tech-desc {
            font-size: 14px;
            color: var(--text-muted);
        }
        
        /* Model Comparison Table */
        .model-table {
            width: 100%;
            border-collapse: collapse;
            margin: 32px 0;
            background: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .model-table thead {
            background: rgba(46, 204, 113, 0.1);
        }
        
        .model-table th {
            padding: 16px;
            text-align: left;
            font-weight: 700;
            color: var(--primary);
            border-bottom: 2px solid var(--primary);
        }
        
        .model-table td {
            padding: 16px;
            border-bottom: 1px solid var(--border);
        }
        
        .model-table tbody tr:hover {
            background: rgba(255, 255, 255, 0.02);
        }
        
        .badge {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(46, 204, 113, 0.15);
            color: var(--primary);
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .badge.warning {
            background: rgba(243, 156, 18, 0.15);
            color: var(--warning);
        }
        
        /* Flow Diagram */
        .flow-diagram {
            background: var(--darker);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 40px;
            margin: 32px 0;
            overflow-x: auto;
        }
        
        .flow-steps {
            display: flex;
            align-items: center;
            gap: 16px;
            min-width: max-content;
        }
        
        .flow-step {
            background: rgba(46, 204, 113, 0.1);
            border: 2px solid var(--primary);
            border-radius: 12px;
            padding: 20px 24px;
            min-width: 200px;
            text-align: center;
            position: relative;
        }
        
        .flow-step.error {
            background: rgba(231, 76, 60, 0.1);
            border-color: var(--danger);
        }
        
        .flow-step-number {
            font-size: 12px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
        }
        
        .flow-step-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .flow-step-desc {
            font-size: 13px;
            color: var(--text-muted);
        }
        
        .flow-arrow {
            font-size: 32px;
            color: var(--primary);
        }
        
        /* Feature List */
        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            list-style: none;
            margin: 24px 0;
        }
        
        .feature-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 16px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border);
            border-radius: 10px;
        }
        
        .feature-icon {
            font-size: 24px;
            flex-shrink: 0;
        }
        
        .feature-content h4 {
            font-size: 16px;
            margin-bottom: 4px;
        }
        
        .feature-content p {
            font-size: 14px;
            color: var(--text-muted);
        }
        
        /* Code Block */
        .code-block {
            background: #000;
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
            overflow-x: auto;
        }
        
        .code-block code {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: #2ecc71;
        }
        
        /* Architecture Diagram */
        .arch-diagram {
            background: var(--darker);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 48px;
            margin: 40px 0;
        }
        
        .arch-layer {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 16px;
        }
        
        .arch-layer-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .arch-components {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }
        
        .arch-component {
            background: rgba(46, 204, 113, 0.1);
            border: 1px solid var(--primary);
            border-radius: 8px;
            padding: 12px 16px;
            text-align: center;
            font-size: 14px;
            font-weight: 600;
        }
        
        /* Metrics */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 32px 0;
        }
        
        .metric-card {
            background: linear-gradient(135deg, rgba(46, 204, 113, 0.1), rgba(46, 204, 113, 0.05));
            border: 1px solid var(--primary);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
        }
        
        .metric-value {
            font-size: 36px;
            font-weight: 900;
            color: var(--primary);
            margin-bottom: 8px;
        }
        
        .metric-label {
            font-size: 14px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .doc-header h1 {
                font-size: 32px;
            }
            
            .section-title {
                font-size: 28px;
            }
            
            .flow-steps {
                flex-direction: column;
            }
            
            .flow-arrow {
                transform: rotate(90deg);
            }
        }
        
        /* Print Styles */
        @media print {
            body {
                background: white;
                color: black;
            }
            
            .card, .flow-diagram, .arch-diagram {
                border: 1px solid #ccc;
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="doc-header">
            <span class="version">v2.0 ‚Ä¢ January 2026</span>
            <h1>üåæ AgriVision System Architecture</h1>
            <p>Comprehensive Technical Documentation & System Design Analysis</p>
        </div>

        <!-- Table of Contents -->
        <div class="toc">
            <h2>üìã Table of Contents</h2>
            <ul class="toc-list">
                <li><a href="#overview"><span class="toc-icon">üéØ</span> System Overview</a></li>
                <li><a href="#tech-stack"><span class="toc-icon">üîß</span> Technology Stack</a></li>
                <li><a href="#ml-pipeline"><span class="toc-icon">ü§ñ</span> ML Pipeline</a></li>
                <li><a href="#backend"><span class="toc-icon">‚öôÔ∏è</span> Backend Architecture</a></li>
                <li><a href="#workflows"><span class="toc-icon">üîÑ</span> Data Workflows</a></li>
                <li><a href="#features"><span class="toc-icon">‚ú®</span> Key Features</a></li>
            </ul>
        </div>

        <!-- System Overview -->
        <section id="overview" class="section">
            <h2 class="section-title">
                <span class="icon">üéØ</span>
                System Overview
            </h2>
            <p class="section-subtitle">AgriVision is an advanced agricultural decision support system that combines machine learning with generative AI to provide accurate crop yield predictions and intelligent crop recommendations.</p>
            
            <div class="card">
                <h3>üåæ Core Capabilities</h3>
                <ul class="feature-list">
                    <li class="feature-item">
                        <span class="feature-icon">üìä</span>
                        <div class="feature-content">
                            <h4>Yield Prediction</h4>
                            <p>ML-powered predictions based on environmental factors, soil conditions, and historical data</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">üß™</span>
                        <div class="feature-content">
                            <h4>Crop Recommendation</h4>
                            <p>Intelligent crop selection using NPK analysis and climate matching algorithms</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">ü§ñ</span>
                        <div class="feature-content">
                            <h4>AI Insights</h4>
                            <p>Gemini 2.0 powered qualitative analysis and actionable recommendations</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">üìà</span>
                        <div class="feature-content">
                            <h4>Bulk Processing</h4>
                            <p>Process thousands of records with comprehensive analytics and visualizations</p>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value">98%+</div>
                    <div class="metric-label">Model Accuracy</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">3</div>
                    <div class="metric-label">ML Algorithms</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">2000</div>
                    <div class="metric-label">Max AI Tokens</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">R¬≤ > 0.85</div>
                    <div class="metric-label">Yield R¬≤ Score</div>
                </div>
            </div>
        </section>

        <!-- Technology Stack -->
        <section id="tech-stack" class="section">
            <h2 class="section-title">
                <span class="icon">üîß</span>
                Technology Stack
            </h2>
            <p class="section-subtitle">Modern, production-grade technologies powering AgriVision's intelligent agricultural platform</p>
            
            <div class="tech-grid">
                <div class="tech-item">
                    <div class="tech-icon">üêç</div>
                    <div class="tech-name">Flask</div>
                    <div class="tech-desc">Backend Framework</div>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">ü§ñ</div>
                    <div class="tech-name">Scikit-learn</div>
                    <div class="tech-desc">ML Core Library</div>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">‚ö°</div>
                    <div class="tech-name">XGBoost</div>
                    <div class="tech-desc">Advanced Gradient Boosting</div>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">üêº</div>
                    <div class="tech-name">Pandas</div>
                    <div class="tech-desc">Data Manipulation</div>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">üî¢</div>
                    <div class="tech-name">NumPy</div>
                    <div class="tech-desc">Numerical Computing</div>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">üß†</div>
                    <div class="tech-name">Gemini 2.0</div>
                    <div class="tech-desc">Generative AI Engine</div>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">üé®</div>
                    <div class="tech-name">HTML5/CSS3</div>
                    <div class="tech-desc">Frontend Interface</div>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">üìä</div>
                    <div class="tech-name">Chart.js</div>
                    <div class="tech-desc">Data Visualization</div>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">üíæ</div>
                    <div class="tech-name">Joblib</div>
                    <div class="tech-desc">Model Serialization</div>
                </div>
            </div>
        </section>

        <!-- ML Pipeline -->
        <section id="ml-pipeline" class="section">
            <h2 class="section-title">
                <span class="icon">ü§ñ</span>
                Machine Learning Pipeline
            </h2>
            <p class="section-subtitle">Ensemble Selection strategy with advanced feature engineering and automatic model deployment</p>
            
            <div class="card">
                <h3>üìä Data Preprocessing & Feature Engineering</h3>
                
                <h4 style="margin-top: 24px; color: var(--primary);">1. Data Cleaning</h4>
                <ul style="margin-left: 20px; color: var(--text-muted);">
                    <li>Automatic removal of invalid rows (negative yields, missing values)</li>
                    <li>Outlier detection and handling using RobustScaler</li>
                    <li>Data type validation and conversion</li>
                </ul>

                <h4 style="margin-top: 24px; color: var(--primary);">2. Feature Standardization</h4>
                <div class="code-block">
                    <code>
Temperature_C ‚Üí Temperature<br>
Humidity_% ‚Üí Humidity<br>
Area_ha ‚Üí Area<br>
State Name ‚Üí State_Name
                    </code>
                </div>

                <h4 style="margin-top: 24px; color: var(--primary);">3. Advanced Feature Engineering</h4>
                <ul class="feature-list">
                    <li class="feature-item">
                        <span class="feature-icon">üîó</span>
                        <div class="feature-content">
                            <h4>Interaction Terms</h4>
                            <p>Temp_Humidity = Temperature √ó Humidity<br>pH_Rainfall = pH √ó Rainfall</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">üìà</span>
                        <div class="feature-content">
                            <h4>Polynomial Features</h4>
                            <p>Temperature¬≤ (Non-linear effects)<br>log(Rainfall) (Skewness handling)</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">üß™</span>
                        <div class="feature-content">
                            <h4>NPK Ratios</h4>
                            <p>NPK_Ratio, NK_Ratio, PK_Ratio<br>Nutrient balance indicators</p>
                        </div>
                    </li>
                </ul>

                <h4 style="margin-top: 24px; color: var(--primary);">4. Scaling & Encoding</h4>
                <table class="model-table">
                    <thead>
                        <tr>
                            <th>Feature Type</th>
                            <th>Technique</th>
                            <th>Purpose</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Categorical</td>
                            <td>Label Encoding</td>
                            <td>Convert State, District, Crop to numeric</td>
                        </tr>
                        <tr>
                            <td>Numerical (Yield)</td>
                            <td>RobustScaler</td>
                            <td>Handle outliers in regression</td>
                        </tr>
                        <tr>
                            <td>Numerical (Recommend)</td>
                            <td>StandardScaler</td>
                            <td>Normalize distributions</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="card">
                <h3>üéØ Yield Prediction Models (Regression)</h3>
                <p style="color: var(--text-muted); margin-bottom: 24px;">Three powerful regression algorithms compete for deployment. The model with the highest R¬≤ score is automatically selected.</p>
                
                <table class="model-table">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>Configuration</th>
                            <th>Strengths</th>
                            <th>Typical R¬≤</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Random Forest</strong></td>
                            <td>200 trees, Max Depth 25</td>
                            <td>Handles non-linear data, robust to overfitting</td>
                            <td>0.80-0.85</td>
                        </tr>
                        <tr>
                            <td><strong>Gradient Boosting</strong></td>
                            <td>LR 0.1, Depth 7</td>
                            <td>Sequential optimization, high accuracy</td>
                            <td>0.82-0.87</td>
                        </tr>
                        <tr>
                            <td><strong>XGBoost</strong> <span class="badge">Best</span></td>
                            <td>LR 0.05, Depth 8</td>
                            <td>Parallel processing, regularization</td>
                            <td>0.85-0.92</td>
                        </tr>
                    </tbody>
                </table>

                <div class="code-block" style="margin-top: 24px;">
                    <code>
# Automatic Model Selection<br>
best_model = max(models, key=lambda m: r2_score(y_test, m.predict(X_test)))<br>
joblib.dump(best_model, 'models/yield_model.pkl')
                    </code>
                </div>
            </div>

            <div class="card">
                <h3>üåæ Crop Recommendation Models (Classification)</h3>
                <p style="color: var(--text-muted); margin-bottom: 24px;">Multi-class classification to predict optimal crop based on soil and climate conditions.</p>
                
                <table class="model-table">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>Configuration</th>
                            <th>Typical Accuracy</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Random Forest Classifier</strong></td>
                            <td>200 estimators, Max Depth 20</td>
                            <td>95-97%</td>
                        </tr>
                        <tr>
                            <td><strong>Gradient Boosting Classifier</strong></td>
                            <td>200 estimators, LR 0.1</td>
                            <td>96-98%</td>
                        </tr>
                        <tr>
                            <td><strong>XGBoost Classifier</strong> <span class="badge">Best</span></td>
                            <td>300 estimators, LR 0.05</td>
                            <td>98-99%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Backend Architecture -->
        <section id="backend" class="section">
            <h2 class="section-title">
                <span class="icon">‚öôÔ∏è</span>
                Backend Architecture
            </h2>
            <p class="section-subtitle">Flask-based application with AI integration, bulk processing, and comprehensive validation</p>
            
            <div class="arch-diagram">
                <div class="arch-layer">
                    <div class="arch-layer-title">üé® Presentation Layer</div>
                    <div class="arch-components">
                        <div class="arch-component">HTML5 Templates</div>
                        <div class="arch-component">CSS3 Glassmorphism</div>
                        <div class="arch-component">Chart.js Visuals</div>
                        <div class="arch-component">Responsive Design</div>
                    </div>
                </div>

                <div class="arch-layer">
                    <div class="arch-layer-title">üåê Application Layer</div>
                    <div class="arch-components">
                        <div class="arch-component">Flask Routes</div>
                        <div class="arch-component">Form Validation</div>
                        <div class="arch-component">Session Management</div>
                        <div class="arch-component">Error Handling</div>
                    </div>
                </div>

                <div class="arch-layer">
                    <div class="arch-layer-title">üß† Business Logic Layer</div>
                    <div class="arch-components">
                        <div class="arch-component">Prediction Engine</div>
                        <div class="arch-component">Bulk Processor</div>
                        <div class="arch-component">AI Integration</div>
                        <div class="arch-component">Analytics Engine</div>
                    </div>
                </div>

                <div class="arch-layer">
                    <div class="arch-layer-title">ü§ñ ML & AI Layer</div>
                    <div class="arch-components">
                        <div class="arch-component">XGBoost Models</div>
                        <div class="arch-component">Gemini 2.0 API</div>
                        <div class="arch-component">Feature Engineering</div>
                        <div class="arch-component">Model Serving</div>
                    </div>
                </div>

                <div class="arch-layer">
                    <div class="arch-layer-title">üíæ Data Layer</div>
                    <div class="arch-components">
                        <div class="arch-component">Joblib Models</div>
                        <div class="arch-component">CSV Processing</div>
                        <div class="arch-component">History Logging</div>
                        <div class="arch-component">Static Assets</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>üß† AI Integration (Gemini 2.0 Flash)</h3>
                <p style="color: var(--text-muted); margin-bottom: 24px;">Generative AI provides qualitative insights alongside quantitative predictions</p>
                
                <table class="model-table">
                    <thead>
                        <tr>
                            <th>Function</th>
                            <th>Purpose</th>
                            <th>Tokens</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>get_ai_insight()</code></td>
                            <td>Yield assessment, improvement tips, risk factors</td>
                            <td>~200</td>
                        </tr>
                        <tr>
                            <td><code>get_bulk_ai_summary()</code></td>
                            <td>Dataset analysis, regional insights</td>
                            <td>~300</td>
                        </tr>
                        <tr>
                            <td><code>get_crop_recommendation_insight()</code></td>
                            <td>Explains why crop was recommended</td>
                            <td>~250</td>
                        </tr>
                    </tbody>
                </table>

                <div class="code-block" style="margin-top: 24px;">
                    <code>
# Gemini Configuration<br>
model = genai.GenerativeModel(<br>
    'gemini-2.0-flash-exp',<br>
    generation_config={<br>
        "temperature": 0.3,  # Deterministic/Focused<br>
        "max_output_tokens": 2000<br>
    }<br>
)
                    </code>
                </div>
            </div>

            <div class="card">
                <h3>üìä Bulk Processing Engine</h3>
                <ul class="feature-list">
                    <li class="feature-item">
                        <span class="feature-icon">üîÑ</span>
                        <div class="feature-content">
                            <h4>Dynamic Column Mapping</h4>
                            <p>Automatically maps various CSV formats to internal schema</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">üõ°Ô∏è</span>
                        <div class="feature-content">
                            <h4>Safe Encoding</h4>
                            <p>Handles unseen categorical labels gracefully</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">üìà</span>
                        <div class="feature-content">
                            <h4>Real-time Analytics</h4>
                            <p>Aggregates totals, identifies top performers</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">üìä</span>
                        <div class="feature-content">
                            <h4>Visualization Data</h4>
                            <p>Generates Chart.js compatible datasets</p>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="card">
                <h3>‚úÖ Input Validation & Safety</h3>
                <table class="model-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Valid Range</th>
                            <th>Validation Type</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Temperature</td>
                            <td>-10¬∞C to 60¬∞C</td>
                            <td>Range check</td>
                        </tr>
                        <tr>
                            <td>Humidity</td>
                            <td>0% to 100%</td>
                            <td>Range check</td>
                        </tr>
                        <tr>
                            <td>pH</td>
                            <td>0 to 14</td>
                            <td>Range check</td>
                        </tr>
                        <tr>
                            <td>Rainfall</td>
                            <td>0mm to 5000mm</td>
                            <td>Range check</td>
                        </tr>
                        <tr>
                            <td>Area</td>
                            <td>0 to 100,000 ha</td>
                            <td>Range check</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Data Workflows -->
        <section id="workflows" class="section">
            <h2 class="section-title">
                <span class="icon">üîÑ</span>
                Data Workflows
            </h2>
            <p class="section-subtitle">End-to-end data processing pipelines for training and prediction</p>
            
            <div class="card">
                <h3>üéØ Prediction Workflow</h3>
                <div class="flow-diagram">
                    <div class="flow-steps">
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 1</div>
                            <div class="flow-step-title">User Input</div>
                            <div class="flow-step-desc">Form submission</div>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 2</div>
                            <div class="flow-step-title">Validation</div>
                            <div class="flow-step-desc">Range & type checks</div>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step error">
                            <div class="flow-step-number">ERROR</div>
                            <div class="flow-step-title">Invalid?</div>
                            <div class="flow-step-desc">Display error</div>
                        </div>
                    </div>
                </div>

                <div class="flow-diagram" style="margin-top: 16px;">
                    <div class="flow-steps">
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 3</div>
                            <div class="flow-step-title">Preprocessing</div>
                            <div class="flow-step-desc">Clean & format</div>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 4</div>
                            <div class="flow-step-title">Feature Eng.</div>
                            <div class="flow-step-desc">Create interactions</div>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 5</div>
                            <div class="flow-step-title">Label Encoding</div>
                            <div class="flow-step-desc">Convert categorical</div>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 6</div>
                            <div class="flow-step-title">ML Inference</div>
                            <div class="flow-step-desc">Predict value</div>
                        </div>
                    </div>
                </div>

                <div class="flow-diagram" style="margin-top: 16px;">
                    <div class="flow-steps">
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 7</div>
                            <div class="flow-step-title">Gemini AI</div>
                            <div class="flow-step-desc">Generate insights</div>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 8</div>
                            <div class="flow-step-title">Format Result</div>
                            <div class="flow-step-desc">Prepare display</div>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">FINAL</div>
                            <div class="flow-step-title">Render UI</div>
                            <div class="flow-step-desc">Show to user</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>üèãÔ∏è Training Workflow</h3>
                <div class="flow-diagram">
                    <div class="flow-steps">
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 1</div>
                            <div class="flow-step-title">Raw CSV</div>
                            <div class="flow-step-desc">Load dataset</div>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 2</div>
                            <div class="flow-step-title">Cleaning</div>
                            <div class="flow-step-desc">Remove invalid</div>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 3</div>
                            <div class="flow-step-title">Feature Eng.</div>
                            <div class="flow-step-desc">Create features</div>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 4</div>
                            <div class="flow-step-title">Split Data</div>
                            <div class="flow-step-desc">80/20 split</div>
                        </div>
                    </div>
                </div>

                <div class="flow-diagram" style="margin-top: 16px;">
                    <div class="flow-steps">
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 5A</div>
                            <div class="flow-step-title">Train RF</div>
                            <div class="flow-step-desc">Random Forest</div>
                        </div>
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 5B</div>
                            <div class="flow-step-title">Train GBM</div>
                            <div class="flow-step-desc">Gradient Boost</div>
                        </div>
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 5C</div>
                            <div class="flow-step-title">Train XGB</div>
                            <div class="flow-step-desc">XGBoost</div>
                        </div>
                    </div>
                </div>

                <div class="flow-diagram" style="margin-top: 16px;">
                    <div class="flow-steps">
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 6</div>
                            <div class="flow-step-title">Compare</div>
                            <div class="flow-step-desc">R¬≤/Accuracy</div>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 7</div>
                            <div class="flow-step-title">Select Best</div>
                            <div class="flow-step-desc">Highest score</div>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">STEP 8</div>
                            <div class="flow-step-title">Save Model</div>
                            <div class="flow-step-desc">.pkl file</div>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">FINAL</div>
                            <div class="flow-step-title">Metadata</div>
                            <div class="flow-step-desc">Save metrics</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Key Features -->
        <section id="features" class="section">
            <h2 class="section-title">
                <span class="icon">‚ú®</span>
                Key Features & Innovations
            </h2>
            
            <div class="card">
                <h3>üéØ Advanced Capabilities</h3>
                <ul class="feature-list">
                    <li class="feature-item">
                        <span class="feature-icon">ü§ñ</span>
                        <div class="feature-content">
                            <h4>Ensemble Model Selection</h4>
                            <p>Automatically trains and compares 3 algorithms, deploys the best performer</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">üî¨</span>
                        <div class="feature-content">
                            <h4>Feature Engineering</h4>
                            <p>Creates interaction terms, polynomial features, and NPK ratios</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">üß†</span>
                        <div class="feature-content">
                            <h4>AI-Powered Insights</h4>
                            <p>Gemini 2.0 provides qualitative analysis and actionable recommendations</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">üìä</span>
                        <div class="feature-content">
                            <h4>Bulk Processing</h4>
                            <p>Handle thousands of records with comprehensive analytics</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">üõ°Ô∏è</span>
                        <div class="feature-content">
                            <h4>Input Validation</h4>
                            <p>Comprehensive range checks and error handling</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">üìà</span>
                        <div class="feature-content">
                            <h4>Real-time Visualization</h4>
                            <p>Interactive charts for state and crop analysis</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">üîÑ</span>
                        <div class="feature-content">
                            <h4>History Tracking</h4>
                            <p>Logs all predictions for analytics and auditing</p>
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-icon">‚ö°</span>
                        <div class="feature-content">
                            <h4>High Performance</h4>
                            <p>XGBoost optimization with parallel processing</p>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="card">
                <h3>üìä Performance Metrics</h3>
                <table class="model-table">
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Yield Model</th>
                            <th>Recommendation Model</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Primary Score</strong></td>
                            <td>R¬≤ > 0.85</td>
                            <td>Accuracy > 98%</td>
                        </tr>
                        <tr>
                            <td><strong>RMSE/MAE</strong></td>
                            <td>< 500 tonnes</td>
                            <td>N/A (Classification)</td>
                        </tr>
                        <tr>
                            <td><strong>Training Time</strong></td>
                            <td>~2-5 minutes</td>
                            <td>~1-3 minutes</td>
                        </tr>
                        <tr>
                            <td><strong>Inference Speed</strong></td>
                            <td>< 100ms per prediction</td>
                            <td>< 50ms per prediction</td>
                        </tr>
                        <tr>
                            <td><strong>Model Size</strong></td>
                            <td>~50-100 MB</td>
                            <td>~30-50 MB</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Footer -->
        <div style="text-align: center; padding: 40px 20px; color: var(--text-muted); border-top: 1px solid var(--border); margin-top: 60px;">
            <p style="margin-bottom: 16px;">¬© 2026 AgriVision ‚Ä¢ Advanced Agricultural Intelligence Platform</p>
            <p style="font-size: 14px;">Powered by Machine Learning, XGBoost & Google Gemini AI</p>
            <p style="font-size: 12px; margin-top: 12px;">Documentation Version 2.0 ‚Ä¢ Last Updated: January 9, 2026</p>
        </div>
    </div>
</body>
</html>
